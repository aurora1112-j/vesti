@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === Vesti Design System === */

    /* Background layers */
    --bg-primary: 0 0% 100%;
    --bg-secondary: 40 14% 96%;
    --bg-tertiary: 43 20% 97%;

    /* Card surfaces */
    --surface-card: 40 16% 92%;
    --surface-card-hover: 40 14% 89%;
    --surface-card-active: 40 13% 87%;
    --surface-ai-message: 40 10% 95%;

    /* Text */
    --text-primary: 0 0% 10%;
    --text-secondary: 0 0% 42%;
    --text-tertiary: 0 0% 61%;
    --text-inverse: 0 0% 100%;

    /* Brand accent (品牌蓝) */
    --accent-primary: 214 55% 44%;
    --accent-primary-hover: 214 57% 38%;
    --accent-primary-active: 214 58% 33%;
    --accent-primary-light: 214 55% 44% / 0.08;
    --accent-primary-muted: 214 55% 44% / 0.15;

    /* Borders */
    --border-default: 40 12% 89%;
    --border-subtle: 40 14% 92%;
    --border-focus: 214 55% 44%;

    /* Semantic */
    --success: 145 51% 36%;
    --warning: 36 90% 43%;
    --danger: 0 55% 51%;

    /* Platform tags */
    --chatgpt-bg: 122 39% 93%;
    --chatgpt-text: 122 47% 33%;
    --chatgpt-border: 122 35% 85%;

    --claude-bg: 30 100% 94%;
    --claude-text: 24 79% 42%;
    --claude-border: 30 100% 82%;

    --gemini-bg: 231 44% 93%;
    --gemini-text: 231 42% 44%;
    --gemini-border: 231 30% 83%;

    --deepseek-bg: 210 69% 94%;
    --deepseek-text: 210 76% 37%;
    --deepseek-border: 210 60% 84%;

    /* Capsule */
    --capsule-bg: 0 0% 10% / 0.88;

    /* Heatmap */
    --heatmap-1: 80 62% 72%;
    --heatmap-2: 112 45% 61%;
    --heatmap-3: 120 40% 44%;
    --heatmap-4: 120 40% 30%;

    /* shadcn overrides */
    --background: var(--bg-tertiary);
    --foreground: var(--text-primary);
    --card: var(--surface-card);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-primary);
    --popover-foreground: var(--text-primary);
    --primary: var(--accent-primary);
    --primary-foreground: var(--text-inverse);
    --secondary: var(--bg-secondary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-secondary);
    --muted-foreground: var(--text-secondary);
    --accent: var(--accent-primary-light);
    --accent-foreground: var(--text-primary);
    --destructive: var(--danger);
    --destructive-foreground: var(--text-inverse);
    --border: var(--border-default);
    --input: var(--border-default);
    --ring: var(--border-focus);
    --radius: 0.5rem;

    /* Shadows */
    --shadow-card-hover: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-popover: 0 4px 12px rgba(0,0,0,0.08), 0 1px 3px rgba(0,0,0,0.04);
    --shadow-capsule: 0 2px 8px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.08);

    /* Fonts */
    --font-serif: Georgia, "Noto Serif SC", "Source Han Serif SC", "Songti SC", "SimSun", "Times New Roman", serif;
    --font-ui: -apple-system, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
    --font-mono: "Cascadia Mono", "Consolas", "SF Mono", "Menlo", "Liberation Mono", monospace;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-serif);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  .text-vesti-xs,
  .text-vesti-sm {
    font-family: var(--font-ui);
  }
}

/* Breathing animation for capsule widget */
@keyframes breathing {
  0%, 100% { opacity: 0.4; transform: scale(0.85); }
  50% { opacity: 1; transform: scale(1); }
}

.animate-breathing {
  animation: breathing 2.5s ease-in-out infinite;
}

/* Custom scrollbar for side panel */
.vesti-scroll::-webkit-scrollbar {
  width: 4px;
}
.vesti-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.vesti-scroll::-webkit-scrollbar-thumb {
  background: hsl(var(--border-default));
  border-radius: 9999px;
}
.vesti-scroll::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--text-tertiary));
}

/* Heatmap color levels (green tones matching brand) */
.heatmap-l1 { background-color: hsl(var(--heatmap-1)); }
.heatmap-l2 { background-color: hsl(var(--heatmap-2)); }
.heatmap-l3 { background-color: hsl(var(--heatmap-3)); }
.heatmap-l4 { background-color: hsl(var(--heatmap-4)); }
